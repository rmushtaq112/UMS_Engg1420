<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.collections.FXCollections?>

<?import java.lang.String?>
<AnchorPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.example.ums_engg1420.eventsmodule.AdminEventController"
            prefHeight="600.0" prefWidth="800.0">

    <VBox spacing="10" alignment="TOP_CENTER" AnchorPane.topAnchor="10.0" AnchorPane.leftAnchor="10.0">
        <!-- Title -->
        <Label text="Event Management" style="-fx-font-size: 18px; -fx-font-weight: bold;"/>

        <!-- Calendar View -->
        <HBox spacing="10">
            <DatePicker fx:id="eventCalendar"/>
            <Button text="View Events" fx:id="btnViewCalendar" onAction="#viewEvents"/>
        </HBox>

        <!-- Search & Filter Options -->
        <HBox spacing="10">
            <TextField fx:id="txtSearch" promptText="Search Events"/>
            <ComboBox fx:id="filterOptions" promptText="Filter Events">
                <items>
                    <FXCollections fx:factory="observableArrayList">
                        <String fx:value="All"/>
                        <String fx:value="Upcoming"/>
                        <String fx:value="Past"/>
                    </FXCollections>
                </items>
            </ComboBox>
            <Button text="Search" fx:id="btnSearch" onAction="#searchEvents"/>
        </HBox>

        <!-- Main Content Area -->
        <HBox spacing="20" alignment="TOP_LEFT" VBox.vgrow="ALWAYS">
            <!-- List View of Events -->
            <VBox spacing="10" HBox.hgrow="ALWAYS">
                <TableView fx:id="tblEvents" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn fx:id="colEventCode" text="Event Code"/>
                        <TableColumn fx:id="colEventName" text="Event Name"/>
                        <TableColumn fx:id="colDescription" text="Description"/>
                        <TableColumn fx:id="colLocation" text="Location"/>
                        <TableColumn fx:id="colDateTime" text="Date and Time"/>
                        <TableColumn fx:id="colCapacity" text="Capacity"/>
                        <TableColumn fx:id="colCost" text="Cost"/>
                        <TableColumn fx:id="colHeaderImage" text="Header Image"/>
                        <TableColumn fx:id="colRegisteredStudents" text="Registered Students"/>
                    </columns>
                </TableView>

                <!-- Management Buttons -->
                <HBox spacing="10">
                    <Button text="Edit Event" fx:id="btnEditEvent" onAction="#editEvent"/>
                    <Button text="Delete Event" fx:id="btnDeleteEvent" onAction="#deleteEvent"/>
                    <Button text="Manage Registrations" fx:id="btnManageRegistrations" onAction="#manageRegistrations"/>
                </HBox>
            </VBox>

            <!-- Event Details Input Fields and Actions -->
            <VBox spacing="10" prefWidth="300">
                <TextField fx:id="eventNameField" promptText="Event Name"/>
                <TextField fx:id="eventCodeField" promptText="Event Code"/>
                <TextField fx:id="locationField" promptText="Location"/>

                <!-- Separate Date and Time Fields -->
                <DatePicker fx:id="eventDateField" promptText="Select Date"/>
                <TextField fx:id="eventTimeField" promptText="Enter Time (e.g., HH:mm)"/>

                <TextField fx:id="capacityField" promptText="Capacity"/>
                <TextField fx:id="costField" promptText="Cost"/>
                <TextArea fx:id="descriptionField" promptText="Description" prefRowCount="3"/>

                <!-- Add Event Button -->
                <HBox spacing="10">
                    <Button text="Add Event" fx:id="btnSaveEvent" onAction="#addEvent"/>
                </HBox>
            </VBox>
        </HBox>
    </VBox>
</AnchorPane>
